Added end-to-end testing and all required features to support it.

This should be considered to be the first, functional, stable release.
